<div class="container top-container">
  @if (!selectedStudent) {
    <div class="container">
      <h2>Student list, click on line to edit it!</h2>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Nr</th>
            <th>Register Number</th>
            <th>Name</th>
          </tr>
        </thead>
        <tbody>
          @for (student of students; track student; let nr = $index) {
            <tr class="data" (click)="selectStudent(student)">
              <td>{{ nr+1 }}</td>
              <td>{{ student.registerNumber }}</td>
              <td>{{ student.name }}</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
  @else {
    <div class="container editor">
      <h3>Edit student {{ selectedStudent!.registerNumber }}</h3>
      <form>
        <div class="form-group row">
          <label class="control-label col-sm-2" for="nr">Nr</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="nr" [ngModel]="registerNumber" readonly>
          </div>
        </div>
        <div class="form-group row">
          <label class="control-label col-sm-2" for="name">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="name" [(ngModel)]="name">
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12 centered">
            <button class="btn btn-warning popup-button" (click)="cancel()">Cancel</button>
            <button class="btn btn-success popup-button" (click)="save()">Save</button>
          </div>
        </div>
      </form>
    </div>
  }

  <a href="./menu">back to menu</a>
</div>